<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

</head>
<body style="font-family: Helvetica">
<link rel="stylesheet" href="assets/bootswatch/bootstrap.min%20_litera.css">
<link rel="stylesheet" href="assets/toast/jquery.toast.min.css">
<link rel="stylesheet" href="style.css">
<div class="wrapper">
    <nav id="sidebar">
        <div class="sidebar-header">
            <h3>Admin Panel</h3>
        </div>
        <ul class="list-unstyled components">
            <li onclick="loadAdminCustomerManager()"><h6>Manage Customer</h6></li>
        </ul>
        <ul class="list-unstyled components">
            <li onclick="loadAdminCarManager()"><h6>Manage Cars</h6></li>
        </ul>
        <ul class="list-unstyled components">
            <li onclick="loadpendingBookingsToAdminPanel()"><h6>Bookings</h6></li>
        </ul>
        <ul class="list-unstyled components">
            <li onclick="loadpendingReturnAndPaymentToAdminPanel()"><h6>Return & Payment</h6></li>
        </ul>
    </nav>

    <div id="content">
        <!--        Append to this-->
        <div id="admincustomermanage">
            <div class="container-fluid">
                <h5>Customer Confirmation</h5>
                <div class="row mb-4 mt-4">
                    <div class="form-group">
                        <label>Sort By :</label>
                        <select class="form-control-sm" id="customerSearchCriteria">
                            <option>Name</option>
                            <option>Email</option>
                            <option>Address</option>
                        </select>
                    </div>
                    <div class="col-4">
                        <input class="form-control form-control-sm" type="text" placeholder="Type to get result"
                               id="customerName" onkeydown="searchCustomer()">
                    </div>
                </div>
                <div class="row">
                    <div class="col-7">
                        <div class="table-wrapper-scroll-y my-custom-scrollbar">
                            <table class="table">
                                <thead>
                                <tr>
                                    <th scope="col">Name</th>
                                    <th scope="col">Address</th>
                                    <th scope="col">Email</th>
                                    <th scope="col">Legal Doc</th>
                                </tr>
                                </thead>
                                <tbody id="admincustomertbody">
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!--                Display Image-->
                    <div class="col-4">
                        <div class="jumbotron" style="width: 300px; height: 400px" id="customerDocImg">
                            <small>Driving Liscenece / Nic</small>
                            <img id="custDocImg" src=" " alt="" style="width: 95%; height: 95%">
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div id="admincarmanage">
            <div class="container" style="font-size: 14px">
                <h5>Car Management</h5>
                <div class="row">
                    <div class="col-5" style="border-right: 1px solid black">
                        <form id="carAddForm">
                                    <div class="addcarstatus"></div>
                                    <div class="row">
                                        <div class="col-6">
                                            <div class="form-group ">
                                                <label>Name</label>
                                                <input type="text" class="form-control form-control-sm" id="carName" placeholder="Alto 800" name="carName">
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Car Brand</label>
                                                <input type="text" class="form-control form-control-sm" id="carBrand" placeholder="Suzuki" name="carBrand">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Car Type</label>
                                                <select class="form-control form-control-sm" id="carTypeSelect" name="carType">
                                                    <option>General</option>
                                                    <option>Premium</option>
                                                    <option>Luxury</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <div class="form-group">
                                                <label>Car Registration No</label>
                                                <input type="text" class="form-control form-control-sm" id="carRegNumber" placeholder="Suzuki" name="carRegNumber">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Monthly Rate</label>
                                                <input type="text"  class="form-control form-control-sm" id="carMonthlyRate" placeholder="Rs.30,000" onkeypress="validateCar(event)" name="carMonthyRate" >

                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Daily Rate</label>
                                                <input type="text" class="form-control form-control-sm" id="carDailyRate" placeholder="Rs.5,000" name="carDailyRate" onkeypress="validateCar(event)">
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Free per day</label>
                                                <input type="text"  class="form-control form-control-sm" id="carFreeKmPerDay" placeholder="10" name="carFreeKmPerDay" onkeypress="validateCar(event)" onkeypress="validateCar(event)">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Free per Month</label>
                                                <input type="text" class="form-control form-control-sm" id="carFreeKmPerMonth" placeholder="100" name="carFreeKmPerMonth" onkeypress="validateCar(event)">
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Extra Km price</label>
                                                <input type="text"  class="form-control form-control-sm" id="carPricePerExtraKm" placeholder="Rs.500" name="carPricePerExtraKm" onkeypress="validateCar(event)">
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Passengers</label>
                                                <input type="text" class="form-control form-control-sm" id="carNumberOfPassenger" placeholder="4, 6" name="carNumberOfPassenger" onkeypress="validateCar(event)">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-3">
                                            <div class="form-group">
                                                <label>Car Color</label>
                                                <input type="text" class="form-control form-control-sm" id="carColor"
                                                       placeholder="Black" name="carColor">
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>State</label>
                                                <select class="form-control form-control-sm" id="carStateSelect"
                                                        name="carState">
                                                    <option>Availabe</option>
                                                    <option>Occupied</option>
                                                    <option>Maintainance</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-5">
                                            <div class="form-group">
                                                <label>Depoist</label>
                                                <input type="text" class="form-control form-control-sm" id="carDeposit"
                                                       placeholder="1,500" name="carDeposit"
                                                       onkeypress="validateCar(event)">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Transmission Type</label>
                                                <select class="form-control form-control-sm" id="carTransType"
                                                        name="transmissionType">
                                                    <option>Auto</option>
                                                    <option>Manual</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Fuel Type</label>
                                                <select class="form-control form-control-sm" id="carFuelType"
                                                        name="fuelType">
                                                    <option>Petrol</option>
                                                    <option>Diesel</option>
                                                    <option>Electric</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Milage</label>
                                                <input type="text" class="form-control form-control-sm" id="carMilage"
                                                       placeholder="1,500" name="carMilage"
                                                       onkeypress="validateCar(event)">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-10">
                                            <div class="form-group">
                                                <label>Car Image : Interior</label>
                                                <input type="file" class="form-control-file" id="carImageInterior" name="carImageInterior">
                                            </div>
                                        </div>
                                        <div class="col-10">
                                            <div class="form-group ">
                                                <label>Car Image : Front</label>
                                                <input type="file" class="form-control-file" id="carImageFront" name="carImageFront">
                                            </div>
                                        </div>
                                        <div class="col-10">
                                            <div class="form-group">
                                                <label>Car Image : Side</label>
                                                <input type="file" class="form-control-file" id="carImageSide" name="carImageSide">
                                            </div>
                                        </div>
                                        <div class="col-10">
                                            <div class="form-group">
                                                <label>Car Image : Back</label>
                                                <input type="file" class="form-control-file" id="carImageBack" name="carImageBack">
                                            </div>
                                        </div>
                                    </div>
                                    <button type="button" class="btn btn-success" onclick="saveCar()">Add Car</button>
                            <button type="button" class="btn btn-primary" onclick="updateCar()">Update Car</button>
                                </form>
                            </div>

                    <div class="col-7">
                        <div class="row mb-3">
                            <div class="col-3"><select class="form-control-sm" id="carSearchCriteria">
                                <option>Brand</option>
                                <option>Type</option>
                                <option>Fuel</option>
                                <option>Transmission</option>
                            </select>
                            </div>
                            <div class="col-4">
                                <input type="text" class="form-control form-control-sm" id="caSearchValue"
                                       placeholder="Suzuki,Petrol,Auto" onkeypress="loadCarListing()">
                            </div>
                        </div>
                                <div class="row">
                                    <div class="col-7">
                                        <table class="table">
                                            <thead>
                                            <tr>
                                                <th scope="col">Reg</th>
                                                <th scope="col">Brand</th>
                                                <th scope="col">Type</th>
                                                <th scope="col">Fuel</th>
                                                <th scope="col">Transmission</th>
                                                <th scope="col">State</th>
                                                <th scope="col">View</th>
                                            </tr>
                                            </thead>
                                            <tbody id="carViewTableBody">
                                            </tbody>
                                        </table>

                                    </div>
                                </div>
                    </div>
                </div>


            </div>
        </div>


        <div id="bookingDetailManage">
            <h5>Booking Managment</h5>
            <div class="row">
                <div class="table-wrapper-scroll-y my-custom-scrollba">
                    <table class="table table-hover">
                        <thead>
                        <tr class="table-primary">
                            <th scope="col">Booking ID</th>
                            <th scope="col">Customer Name</th>
                            <th scope="col">Required Location</th>
                            <th scope="col">Date of Booking</th>
                            <th scope="col">Date of Return</th>
                            <th scope="col">Driver ID</th>
                            <th scope="col">Status</th>
                            <th scope="col">Accept</th>
                            <th scope="col">Deny</th>
                        </tr>
                        </thead>
                        <tbody id="pendingbookingtbody">
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="row"></div>
            <div class="row"></div>
        </div>

    </div>



<!--        <div id="carSchedule">-->
<!--            <h3>Car Schedules</h3>-->

<!--            <div class="row">-->
<!--                <div class="col-8">-->
<!--                    <div class="form-group">-->
<!--                        <label>Sort By</label>-->
<!--                        <select class="form-control" id="carScheduleStateSelect">-->
<!--                            <option>Occupied</option>-->
<!--                            <option>Availabe</option>-->
<!--                            <option>Maintaince</option>-->
<!--                        </select>-->
<!--                    </div>-->
<!--                </div>-->

<!--                <div class="col-4">- -->
<!--                    <button type="button" class="btn btn-success" onclick="getCarsScheduleByState()">Sort</button>-->
<!--                </div>-->
<!--            </div>-->

<!--            <div class="row">-->
<!--                <table class="table">-->
<!--                    <thead>-->
<!--                    <tr>-->
<!--                        <th scope="col">Car Id</th>-->
<!--                        <th scope="col">Reg Numb</th>-->
<!--                        <th scope="col">Color</th>-->
<!--                        <th scope="col">Milege</th>-->
<!--                        <th scope="col">Passengers</th>-->
<!--                        <th scope="col">State</th>-->
<!--                        <th scope="col">Schedule</th>-->
<!--                    </tr>-->
<!--                    </thead>-->
<!--                    <tbody id="carScheduleTable">-->
<!--                    <tr>-->
<!--                        <th scope="row">1</th>-->
<!--                        <td>Mark</td>-->
<!--                        <td>Otto</td>-->
<!--                        <td>@mdo</td>-->
<!--                        <td>Otto</td>-->
<!--                        <td>@mdo</td>-->
<!--                        <td>@mdo</td>-->
<!--                    </tr>-->
<!--                    </tbody>-->
<!--                </table>-->
<!--            </div>-->




<!--        </div>-->


    <div id="paymentAndReturn">
        <div class="paymentAndReturnVal"></div>
        <h5 class="mt-4">Return And Payment</h5>
        <div class="row">
            <div class="form-group">
                <div class="row">
                    <div class="col-6">
                        <div class="form-group">
                            <select class="form-control form-control-sm" id="paymentReturnSelection">
                                <option>Booking</option>
                                <option>CustomerName</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-4">
                        <input type="text" class="form-control-sm" aria-describedby="emailHelp"
                               placeholder="Enter Bid / Customer Name" id="paymentReturnBidText"
                               onkeypress="loadBookingDetailToReturn()">
                    </div>
                </div>
                <div class="row mt-3">
                    <table class="table">
                        <thead class="thead-dark">
                        <tr>
                            <th scope="col">BID</th>
                            <th scope="col">Customer Name</th>
                            <th scope="col">Obtained Date</th>
                            <th scope="col">Return Date</th>
                            <th scope="col">Driver ID</th>
                            <th scope="col">Payment & Return</th>
                        </tr>
                        </thead>
                        <tbody id="ReturnPaymentTblBody">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="row">
            <!--                To enter to user-->
            <!--              Damages  Automatically updated -->
            <div class="col-5" id="paymentDetailAutoUpdate" style="display: none">
                <div class="jumbotron">
                    <div class="row">
                        <div id="paymntCustName"></div>
                        <div id="paymentCarId"></div>
                    </div>
                    <div class="row">
                        <div id="paymntDateOfRqrd"></div>
                        <div id="paymentDateOfReturn"></div>
                    </div>
                    <div class="row">
                        <div id="paymntDriverName"></div>
                        <div id="paymentStartingMilage"></div>
                    </div>
                </div>
            </div>

            </div>
<!--            Caculated Details-->
            <div class="row mt-3">
                <div class="jumbotron jumbotron-fluid">
                    <div class="container">
                        <h1 class="display-4">Fluid jumbotron</h1>
                        <p class="lead">This is a modified jumbotron that occupies the entire horizontal space of its parent.</p>
                    </div>
                </div>
            </div>
        </div>




<!--    Accept Model with Driver-->
    <div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" id="acceptModel">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <h7>Driver Confirmation</h7>
                <div id="currentDriver"></div>
                <div class="row mt-4">
                    <div class="col-5">
                        <label>Date From </label>
                        <input type="date" id="driveScheduleFrom" >
                    </div>
                    <div class="col-5">
                        <label>Date To</label>
                        <input type="date" id="driveScheduleTo">
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col-3">
                        <button type="button" class="btn badge-success" onclick="loadDriverSchedules()">Current Driver Shedule</button>
                    </div>
                    <div class="col-3">
                        <button type="button" class="btn btn-danger" onclick="loadAlterNativeDriver()">Alternative Driver Schedule</button>
                    </div>
                    <div class="col-6" id="viewAlternativeDriver" style="display: none">
                        <select id="selectAlternativeDriver">
                            <option value="1">1</option>
                        </select>
                        <button type="button" class="btn btn-primary" onclick="viewAlterNavtiveSchedule(this)" >View Schdule</button>
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col-6">
                        <table class="table">
                            <thead>
                            <tr>
                                <th scope="col">Pickup</th>
                                <th scope="col">From</th>
                                <th scope="col">To</th>
                            </tr>
                            </thead>
                            <tbody id="dScheduleTbdody">
                            </tbody>
                        </table>
                    </div>
                </div>
                <!--Footer-->
                <div class="modal-footer">
                    <div class="row">
                        <div id="driverRadioView">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="exampleRadios" id="radioCurrent" value="currentDriver" checked>
                                <label class="form-check-label">
                                    Select Current Driver
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <button type="button" class="btn btn-primary" onclick="completeBooking()">Save changes</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>

                </div>
            </div>
        </div>






    </div>

<!--    Accept Model WithoutDriver-->
    <div class="modal" tabindex="-1" role="dialog" id="acceptModelWithoutDriver">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Accept Confirmation <div id="noDriverBid"></div></h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Are you sure to confirm this Booking ?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="acceptBookingWithoutDriver()">Save changes</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

<!--Dny Model-->
    <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" id="denyModel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">New message</h5>
                    <div id="denialBid"></div>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="denialForm">
                        <div class="form-group">
                            <label class="col-form-label">Reason For Denial :</label>
                            <textarea class="form-control" id="denialMsg" name="denialMsg"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" onclick="denyFinalBooking()">Deny Booking</button>
                </div>
            </div>
        </div>
    </div>


<!--        Car Schedule Model-->
        <div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" id="modelIndividualCarSchedule">
            <div class="modal-dialog modal-lg">
                <div class="modalInsideCarId"></div>
                <div class="modal-content">
                    <table class="table">
                        <thead>
                        <tr>
                            <th scope="col">Reqired Date</th>
                            <th scope="col">Return Date</th>
                            <th scope="col">Driver</th>
                        </tr>
                        </thead>
                        <tbody id="modelCarScheduleTableBoy">
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" onclick="changeCarToPreferedState(this)" value="Availabe">
                    Mark As Available
                </button>
                <button type="button" class="btn btn-primary" onclick="changeCarToPreferedState(this)" value="Occupied">
                    Mark As Occupies
                </button>
                <button type="button" class="btn btn-primary" onclick="changeCarToPreferedState(this)"
                        value="Maintainance">Mark As Maintainance
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>


    <!--        ?Image viewer for car-->
    <div id="imageViewForCar"></div>
    <div id="returnViewForReturn"></div>
    <div id="paymentViewForPayment"></div>


</div>
</div>



</div>

<script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        crossorigin="anonymous"></script>
<script src="assets/toast/jquery.toast.min.js"></script>
<script src="assets/js/admin.js"></script>
</body>
</html>
